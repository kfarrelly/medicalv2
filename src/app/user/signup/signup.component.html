<!-- main app container -->
<div class="container">
    <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4 signupBox">
            <div class="form-group signupLogo">
            </div>
            <h3>Sign Up</h3>
            <form class="mt-4" [formGroup]="registerForm"
                (ngSubmit)="onSignup(fname.value,lname.value,role.value,mobile.value,location.value,email.value,pass.value)"
                name="registration">
                <div class="row">
                    <div class="form-group col-6">
                        <label>First Name</label>
                        <input #fname type="text" formControlName="firstName" class="form-control custom-input"
                            [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }" />
                        <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback">
                            <div *ngIf="f.firstName.errors.required">First Name is required</div>
                        </div>
                    </div>
                    <div class="form-group col-6">
                        <label>Last Name</label>
                        <input #lname type="text" formControlName="lastName" class="form-control custom-input"
                            [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }" />
                        <div *ngIf="submitted && f.lastName.errors" class="invalid-feedback">
                            <div *ngIf="f.lastName.errors.required">Last Name is required</div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select #role formControlName="role" [ngClass]="{ 'is-invalid': submitted && f.role.errors }"
                        class="form-control custom-input">
                        <option class="custom-select" value="1">Admin</option>
                        <option class="custom-select" value="2">Manufacture</option>
                        <option class="custom-select" value="3">Wholesaler</option>
                        <option class="custom-select" value="4">Distributor</option>
                        <option class="custom-select" value="5">Pharma</option>
                        <option class="custom-select" value="7">Transporter</option>
                    </select>
                    <div *ngIf="submitted && f.role.errors" class="invalid-feedback">
                        <div *ngIf="f.role.errors.required">Role is required</div>
                    </div>
                </div>
                <div class="form-group">

                    <label>Mobile No.</label>
                    <input #mobile type="number" pattern="[1-9]{1}[0-9]{9}" formControlName="mobile"
                        class="form-control custom-input required"
                        [ngClass]="{ 'is-invalid': submitted && f.mobile.errors }" min=0 max="100000000000"
                        oninput="validity.valid||(value='');" />
                    <div *ngIf="submitted && f.mobile.errors" class="invalid-feedback">
                        <div *ngIf="f.mobile.errors.required">Mobile No. is required</div>
                        <div *ngIf="f.mobile.errors.minlength">Mobile No. must be at least 10 characters
                        </div>
                        <div *ngIf="f.mobile.errors.maxlength">Mobile No. must be less than 11 characters
                        </div>
                    </div>
                </div>

                <div class="form-group ">
                    <label>Location</label>
                    <input #location type="text" formControlName="location" class="form-control custom-input"
                        [ngClass]="{ 'is-invalid': submitted && f.location.errors }" />
                    <div *ngIf="submitted && f.location.errors" class="invalid-feedback">
                        <div *ngIf="f.location.errors.required">Location is required</div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Email</label>
                    <input #email type="email" formControlName="email" class="form-control custom-input"
                        [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
                    <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                        <div *ngIf="f.email.errors.required">Email is required</div>
                        <div *ngIf="f.email.errors.email">Email must be a valid email address</div>
                    </div>

                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input #pass type="password" formControlName="password" class="form-control custom-input"
                        [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
                    <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                        <div *ngIf="f.password.errors.required">Password is required</div>
                        <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters
                        </div>
                    </div>
                </div>
                <div class="form-group mt-4 text-center">
                    <button
                        class="btn btn-primary gradient-btn align-items-center btn btn-primary d-flex gradient-btn justify-content-center">
                        <div class="text mr-2 ml-2" *ngIf="!loading">
                            Register
                        </div>
                        <div class="d-flex align-items-center" *ngIf="loading">
                            <div class="spinner-border text-secondary" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                            <div class="text mr-2 ml-2">
                                Loading...
                            </div>
                        </div>
                    </button>
                </div>
            </form>
            <p class="text-center"> Already signed click for:<a class="link" [routerLink]="'/login'"
                    style="margin-left:10px"> Login</a></p>
        </div>
    </div>